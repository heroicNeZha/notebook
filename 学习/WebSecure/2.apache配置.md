# ubuntu配置apache

1. 下载apache2
    ```shell
    sudo apt install apache2
    ```
2. 重要目录:  
    - /etc/apache2 :配置文件目录
      - sites-available :真正配置文件
      - sites-enable :指向 site-available 的链接
      - mods-available :模块配置文件
      - mods-enabled :指向 mods-available 的链接
      - confs-available :配置文件
      - confs-enabled :指向 confs-available 的链接
      - ports.conf :端口配置
    - /var/log/apache :日志文件

3. 重要文件
   1. ports.conf 端口配置文件  
      ![avator](../images/2019-11-29&#32;21-50-32屏幕截图.png)  
      - listen 80 代表侦听80端口  
      - `<ifModule ssl_module>` 代表当开启ssl_module模块后侦听443端口
   1. sites-available/ 目录下一个文件对应一个端口上的一个或多个网站

      - DocumentRoot 代表网站根目录,可能需要授权,此时需要在配置文件中添加
        ```
        <Directory /var/www>
          Options Indexes FollowSymlinks
          AllowOverride None
          Require all granted
        </Directory>
        ```

4. 重要命令
   1.  `a2enmod ssl ` 启动SSL模块  
      这条命令相当于
        ```bash
        sudo ln -s /etc/apache2/mods-available/ssl.load /etc/apache2/mods-enabled
        sudo ln -s /etc/apache2/mods-available/ssl.conf /etc/apache2/mods-enabled
        ```
    1. `systemctl restart apache2.service` 重启服务